!function(){const{jQuery:a,tinymce:e,AWBTinyMCEOptions:n}=window;void 0!==n&&e.PluginManager.add("awb",(function(e){const t="nk_awb",i={awb_type:"",awb_stretch:"false",awb_color:"",awb_image:"",awb_video:"",awb_image_size:"full",awb_image_background_size:"cover",awb_image_background_position:"50% 50%",awb_video_mp4:"",awb_video_webm:"",awb_video_ogv:"",awb_video_start_time:0,awb_video_end_time:0,awb_video_volume:0,awb_video_always_play:"false",awb_video_mobile:"false",awb_parallax:"",awb_parallax_speed:.5,awb_parallax_mobile:"false",awb_mouse_parallax:"",awb_mouse_parallax_size:30,awb_mouse_parallax_speed:1e4,awb_class:""};function c(a,e){let n="";return Object.keys(a).forEach((t=>{n+='<option value="'.concat(t,'" ').concat(e===a[t]?"selected":"",">").concat(a[t],"</option>")})),n}function l(a){return 1===a||"1"===a||!0===a||"true"===a||"on"===a?'checked="checked"':""}function o(a,e,n){let t="";return t="video"===n?'\n            <div class="awb_attach_video">\n              <input name="'.concat(a,'" class="').concat(a,' awb_attach_video_field" type="hidden" value="').concat(e,'">\n            </div>\n            <input type="button" class="awb_attach_video_btn button" value="Select Video" data-select-title="Select Video" data-remove-title="&times;">\n            <small class="awb_attach_video_label">').concat(e,"</small>\n          "):'\n            <div class="awb_attach_image">\n              <input name="'.concat(a,'" class="').concat(a,' awb_attach_image_field" type="hidden" value="').concat(e,'">\n            </div>\n            <input type="button" class="awb_attach_image_btn button" value="Select Image" data-select-title="Select Image" data-remove-title="&times;">\n            <small class="awb_attach_image_label">').concat(e,"</small>\n          "),t}e.addCommand("awb_popup",((s,d)=>{e.windowManager.open({title:"AWB Shortcode",width:600,height:400,classes:"awb-panel",html:'\n        <form class="awb-mce-form">\n\n          <div class="awb-tabs">\n            <a href="#awb-tab-general" class="awb-tab awb-tab-active">General</a>\n            <a href="#awb-tab-styles" class="awb-tab">Styles</a>\n          </div>\n\n          <div data-tab="awb-tab-general" class="awb-tab-active">\n            <div class="awb-col-6">\n              <h3>Background Type</h3>\n              <select name="awb_type">\n                '.concat(c({"":"None",color:"Color",image:"Image",yt_vm_video:"YouTube / Vimeo",video:"Self Hosted Video"},d.awb_type),'\n              </select>\n            </div>\n\n            <div class="awb-col-6" data-cond="[name=awb_type]">\n              <h3>Stretch</h3>\n              <input type="checkbox" value="1" name="awb_stretch" ').concat(l(d.awb_stretch),'>\n            </div>\n\n            <div data-cond="[name=awb_type] && [name=awb_type] != color">\n              <div class="awb-clearfix"></div>\n              <h3 class="awb-title">Image</h3>\n              <div class="awb-col-6">\n                ').concat(o("awb_image",d.awb_image,"image"),'\n              </div>\n              <div class="awb-col-6" data-cond="[name=awb_image]">\n                <select name="awb_image_size">\n                  ').concat(c(n.imageSizes,d.awb_image_size),'\n                </select>\n              </div>\n              <div class="awb-clearfix"></div>\n              <div class="awb-col-6" data-cond="[name=awb_image]">\n                <select name="awb_image_background_size">\n                  ').concat(c({cover:"Cover",contain:"Contain",pattern:"Pattern"},d.awb_image_background_size),'\n                </select>\n              </div>\n              <div class="awb-col-6" data-cond="[name=awb_image]">\n                <input type="text" name="awb_image_background_position" value="').concat(d.awb_image_background_position,'">\n                <div class="awb-description">Image position. Example: 50% 50%</div>\n              </div>\n            </div>\n\n            <div data-cond="[name=awb_type] == yt_vm_video">\n              <div class="awb-clearfix"></div>\n              <h3 class="awb-title">Youtube / Vimeo</h3>\n              <div class="awb-col-12">\n                <input type="text" name="awb_video" value="').concat(d.awb_video,'">\n                <div class="awb-description">Supported YouTube and Vimeo URLs</div>\n              </div>\n            </div>\n\n            <div data-cond="[name=awb_type] == video">\n              <div class="awb-clearfix"></div>\n              <h3 class="awb-title">Video</h3>\n              <div class="awb-col-4">\n                <h3>MP4</h3>\n                ').concat(o("awb_video_mp4",d.awb_video_mp4,"video"),'\n              </div>\n              <div class="awb-col-4">\n                <h3>WEBM</h3>\n                ').concat(o("awb_video_webm",d.awb_video_webm,"video"),'\n              </div>\n              <div class="awb-col-4">\n                <h3>OGV</h3>\n                ').concat(o("awb_video_ogv",d.awb_video_ogv,"video"),'\n              </div>\n            </div>\n\n            <div data-cond="[name=awb_type] *= video">\n              <div class="awb-clearfix"></div>\n              <div class="awb-col-6">\n                <h3>Start Time</h3>\n                <input type="text" name="awb_video_start_time" value="').concat(d.awb_video_start_time,'">\n                <div class="awb-description">Start time in seconds when video <br> will be started (this value will be <br> applied also after loop)</div>\n              </div>\n              <div class="awb-col-6">\n                <h3>End Time</h3>\n                <input type="text" name="awb_video_end_time" value="').concat(d.awb_video_end_time,'">\n                <div class="awb-description">End time in seconds when video <br> will be ended</div>\n              </div>\n            </div>\n\n            <div data-cond="[name=awb_type] *= video">\n              <div class="awb-clearfix"></div>\n              <div class="awb-col-6">\n                <h3>Always Play</h3>\n                <input type="checkbox" value="1" name="awb_video_always_play" ').concat(l(d.awb_video_always_play),'>\n                <div class="awb-description">Play video also when not in viewport.</div>\n              </div>\n              <div class="awb-col-6">\n                <h3>Enable on Mobile Devices</h3>\n                <input type="checkbox" value="1" name="awb_video_mobile" ').concat(l(d.awb_video_mobile),'>\n              </div>\n            </div>\n\n            <div data-cond="[name=awb_type]">\n              <div class="awb-clearfix"></div>\n              <h3 class="awb-title">Overlay Color</h3>\n              <div class="awb-col-12">\n                <input class="awb-colorpicker" type="text" name="awb_color" value="').concat(d.awb_color,'" data-alpha="true">\n              </div>\n            </div>\n\n            <div data-cond="[name=awb_type] && [name=awb_type] != color">\n              <div class="awb-clearfix"></div>\n              <h3 class="awb-title">Parallax</h3>\n              <div class="awb-col-4">\n                <h3>Type</h3>\n                <select name="awb_parallax">\n                  ').concat(c({"":"Disabled",scroll:"Scroll",scale:"Scale",opacity:"Opacity","scroll-opacity":"Opacity + Scroll","scale-opacity":"Opacity + Scale"},d.awb_parallax),'\n                </select>\n              </div>\n              <div data-cond="[name=awb_parallax]">\n                <div class="awb-col-4">\n                  <h3>Speed</h3>\n                  <input type="text" name="awb_parallax_speed" value="').concat(d.awb_parallax_speed,'">\n                  <div class="awb-description">Provide number <br> from -1.0 to 2.0</div>\n                </div>\n                <div class="awb-col-4">\n                  <h3>Enable on Mobile Devices</h3>\n                  <input type="checkbox" value="1" name="awb_parallax_mobile" ').concat(l(d.awb_parallax_mobile),'>\n                </div>\n              </div>\n            </div>\n\n            <div data-cond="[name=awb_type] && [name=awb_type] != color">\n              <div class="awb-clearfix"></div>\n              <h3 class="awb-title">Mouse Parallax</h3>\n              <div class="awb-col-4">\n                <h3>Enable</h3>\n                <input type="checkbox" value="1" name="awb_mouse_parallax" ').concat(l(d.awb_mouse_parallax),'>\n              </div>\n              <div data-cond="[name=awb_mouse_parallax]">\n                <div class="awb-col-4">\n                  <h3>Size</h3>\n                  <input type="text" name="awb_mouse_parallax_size" value="').concat(d.awb_mouse_parallax_size,'">\n                  <div class="awb-description">pixels</div>\n                </div>\n                <div class="awb-col-4">\n                  <h3>Speed</h3>\n                  <input type="text" name="awb_mouse_parallax_speed" value="').concat(d.awb_mouse_parallax_speed,'">\n                  <div class="awb-description">milliseconds</div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div data-tab="awb-tab-styles">\n            <div class="awb-clearfix"></div>\n            <div class="awb-col-12"><h3>Padding</h3></div>\n            <div class="awb-col-3">\n              <h3>Top</h3>\n              <input type="text" name="awb_styles_padding_top" data-style="padding-top" value="">\n            </div>\n            <div class="awb-col-3">\n              <h3>Bottom</h3>\n              <input type="text" name="awb_styles_padding_bottom" data-style="padding-bottom" value="">\n            </div>\n            <div class="awb-col-3">\n              <h3>Left</h3>\n              <input type="text" name="awb_styles_padding_left" data-style="padding-left" value="">\n            </div>\n            <div class="awb-col-3">\n              <h3>Right</h3>\n              <input type="text" name="awb_styles_padding_right" data-style="padding-right" value="">\n            </div>\n\n            <div class="awb-clearfix"></div>\n            <h3 class="awb-title">Margin</h3>\n            <div class="awb-col-3">\n              <h3>Top</h3>\n              <input type="text" name="awb_styles_margin_top" data-style="margin-top" value="">\n            </div>\n            <div class="awb-col-3">\n              <h3>Bottom</h3>\n              <input type="text" name="awb_styles_margin_bottom" data-style="margin-bottom" value="">\n            </div>\n            <div class="awb-col-3">\n              <h3>Left</h3>\n              <input type="text" name="awb_styles_margin_left" data-style="margin-left" value="">\n            </div>\n            <div class="awb-col-3">\n              <h3>Right</h3>\n              <input type="text" name="awb_styles_margin_right" data-style="margin-right" value="">\n            </div>\n          </div>\n\n        </form>\n        '),buttons:[{text:"Insert",classes:"widget btn primary",id:"awb-panel-insert",onclick:"submit",minHeight:32,minWidth:70},{text:"Close",classes:"widget btn secondary",onclick:"close",minHeight:32,minWidth:70}],onSubmit(){const n=e.windowManager.getWindows()[0],c=a(n.$el[0]);c.find(".wp-picker-container:visible").each((function(){a(this).find(".awb-colorpicker").css("display","inline-block"),a(this).find(".wp-picker-input-wrap.hidden").removeClass("hidden")}));const l=c.find(".awb-mce-form [name]"),o={};l.each((function(){const e=a(this);if(e.is("[type=hidden]")){if(!e.parent().is(":visible"))return}else if(!e.is(":visible"))return;o[this.name]="checkbox"===this.type?this.checked:this.value}));let s="[".concat(t);Object.keys(i).forEach((a=>{void 0!==o[a]&&o[a]&&(s+=" ".concat(a,'="').concat(o[a],'"'))}));let b="";l.filter("[data-style]").each((function(){const e=a(this);let n=e.val();n&&(a.isNumeric(n)&&(n+="px"),b+=" ".concat(e.attr("data-style"),": ").concat(n,";"))})),b&&(s+=' awb_styles="'.concat(b,'"'));const v=d.content||"<p>Your Content Here</p>";s+="]".concat(v,"[/").concat(t,"]"),e.insertContent(s)},onOpen(){const n=e.windowManager.getWindows()[0],t=a(n.$el[0]);"object"==typeof a.wp&&"function"==typeof a.wp.wpColorPicker&&t.find(".awb-colorpicker").wpColorPicker({alpha:!0});const i=t.find(".awb-tabs");if(i.length){const e=i.parent().children("[data-tab]");i.on("click",".awb-tab",(function(n){n.preventDefault();const t=a(this),i=e.filter('[data-tab="'.concat(this.hash.replace("#",""),'"]'));i.length&&(e.removeClass("awb-tab-active"),i.addClass("awb-tab-active"),t.addClass("awb-tab-active").siblings().removeClass("awb-tab-active"))}))}t.conditionize()}})})),e.addButton("awb",{icon:"awb",tooltip:"Advanced WordPress Backgrounds",onclick(){e.execCommand("awb_popup","",a.extend({content:e.selection.getContent()},i))}})}))}();